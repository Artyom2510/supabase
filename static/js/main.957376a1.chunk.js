(this.webpackJsonpsupabase=this.webpackJsonpsupabase||[]).push([[0],{16:function(e,t,a){e.exports={contact:"Contact_contact__3Q7NQ",contact__wrap:"Contact_contact__wrap__27vcF",contact__btnWrap:"Contact_contact__btnWrap__6Q0v7",contact__btn:"Contact_contact__btn__3AdwK",wrap__fullName:"Contact_wrap__fullName__2kpDn",wrap__email:"Contact_wrap__email__2RIZm"}},17:function(e,t,a){e.exports={contacts:"Contacts_contacts__2njFw",contacts__title:"Contacts_contacts__title__NpmFw",contacts__new:"Contacts_contacts__new__CSxcA",contacts__search:"Contacts_contacts__search__2vqTb",contacts__desc:"Contacts_contacts__desc__3XB9M",contactsList:"Contacts_contactsList__3sio5",contactsList__item:"Contacts_contactsList__item__2hGt_"}},196:function(e,t,a){},197:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),r=a(25),n=a.n(r),i=a(5),o=a(11),l=a(15),d=a(86);const _=["id"],m=String("https://ydoqnhdxjtfgdarjtprg.supabase.co"),b=String("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlkb3FuaGR4anRmZ2Rhcmp0cHJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDcwNzg5MTMsImV4cCI6MTk2MjY1NDkxM30.LUsRRZWNfSv44OivMdP4lToB4LHXNi9qApH9FLtcAwA");const j=new class{constructor(){this.supabase=void 0,this.supabase=Object(d.a)(m,b)}getUserCred(){return this.supabase.auth.user()}async singIn(e,t){const{user:a,error:s}=await this.supabase.auth.signIn({password:e,email:t});if(s)throw new Error(s.message);if(!a)throw new Error("user not found");return a}async signUp(e){let{firstName:t,lastName:a,password:s,email:c}=e;const{user:r,error:n}=await this.supabase.auth.signUp({password:s,email:c},{data:{firstName:t,lastName:a}});if(n)throw new Error(n.message);if(!r)throw new Error("user not found");return r}async logOut(){return this.supabase.auth.signOut()}async getContactList(e){const{data:t,error:a}=await this.supabase.from("contact").select("*").match({user_id:e});return t||[]}async createContact(e){const{data:t,error:a}=await this.supabase.from("contact").insert(e,{returning:"representation"});return null===t||void 0===t?void 0:t[0]}async updateContact(e){const{id:t}=e,a=Object(l.a)(e,_),{data:s,error:c}=await this.supabase.from("contact").update(a,{returning:"representation"}).match({id:t});return null===s||void 0===s?void 0:s[0]}async deleteContact(e){const{data:t,error:a}=await this.supabase.from("contact").delete().match({id:e});return null===t||void 0===t?void 0:t[0]}},u=e=>{const t=e;return t.message?t.message:"unknown error"},p=Object(o.b)({name:"formSignIn",initialState:{isSending:!1,isSended:!1,error:null},reducers:{sendDataStart:e=>{e.isSending=!0,e.isSended=!1},sendDataSuccess:e=>{e.isSending=!1,e.isSended=!0},sendDataFailure:(e,t)=>{let{payload:a}=t;e.error=a,e.isSending=!1,e.isSended=!0}}}),{sendDataStart:h,sendDataSuccess:O,sendDataFailure:f}=p.actions,g=e=>e.formSignIn;var x=p.reducer;const N=Object(o.b)({name:"formSignUp",initialState:{isSending:!1,isSended:!1,error:null},reducers:{sendDataStart:e=>{e.isSending=!0,e.isSended=!1},sendDataSuccess:e=>{e.isSending=!1,e.isSended=!0},sendDataFailure:(e,t)=>{let{payload:a}=t;e.error=a,e.isSending=!1,e.isSended=!0}}}),{sendDataStart:v,sendDataSuccess:S,sendDataFailure:w}=N.actions,C=e=>e.formSignUp;var A=N.reducer;const L=Object(o.b)({name:"contacts",initialState:{contacts:[],isLoading:!1,isLoaded:!1,error:""},reducers:{getDataStart:e=>{e.isLoading=!0},getDataSuccess:(e,t)=>{let{payload:a}=t;e.contacts=a,e.isLoading=!1,e.isLoaded=!0},getDataFailure:(e,t)=>{let{payload:a}=t;e.error=a,e.isLoading=!1}}}),{getDataStart:y,getDataSuccess:F,getDataFailure:D}=L.actions,B=e=>e.contacts;var E=L.reducer;const I=Object(o.b)({name:"user",initialState:{user:null},reducers:{setUser:(e,t)=>{let{payload:a}=t;e.user=a},removeUser:e=>{e.user=null}}}),{setUser:U,removeUser:k}=I.actions;var T=I.reducer;const M={first_name:"",last_name:"",email:"",id:null},J={isSending:!1,isSended:!1,error:null,currentContact:M},Q=Object(o.b)({name:"contact",initialState:J,reducers:{sendDataStart:e=>{e.isSending=!0,e.isSended=!1},sendDataSuccess:e=>{e.isSending=!1,e.isSended=!0,e.currentContact=M},sendDataFailure:(e,t)=>{let{payload:a}=t;e.error=a,e.isSending=!1,e.isSended=!0,e.currentContact=M},setCurrentContact:(e,t)=>{let{payload:a}=t;e.currentContact=a},setDefaultContact:e=>{e.currentContact=M}}}),{sendDataStart:V,sendDataSuccess:q,sendDataFailure:H}=Q.actions,{setCurrentContact:Y,setDefaultContact:P}=Q.actions,R=e=>e.contact;var Z=Q.reducer;var G=Object(o.a)({reducer:{user:T,formSignIn:x,formSignUp:A,contacts:E,contact:Z}}),X=a(22),z=a(3);var W=e=>{let{children:t}=e;const[a,c]=Object(s.useState)(!0);return t(a,(()=>{c(!a)}))},K=a(2),$=a(12),ee=a(27),te=a(10),ae=a(6),se=a.n(ae),ce=a(28),re=a.n(ce),ne=a(1);const ie=["type","autoFocus","className","label","error"],oe=Object(s.forwardRef)(((e,t)=>{let{type:a="text",autoFocus:c=!1,className:r="",label:n="",error:i=""}=e,d=Object(l.a)(e,ie);const _=Object(s.useRef)(Object(o.c)()).current;return Object(ne.jsxs)("div",{className:se()(re.a.formfield,r,{[re.a.formfield_error]:!!i}),children:[n&&Object(ne.jsx)("label",{htmlFor:_,className:re.a.formfield__label,children:n}),Object(ne.jsx)("input",Object(K.a)({ref:t,type:a,autoFocus:c,autoComplete:"off",className:re.a.formfield__input},d)),Object(ne.jsx)("small",{className:re.a.formfield__error,children:i})]})}));oe.displayName="Input";var le=oe,de=a(81),_e=a.n(de);var me=e=>{let{handleClick:t,type:a="button",className:s="",children:c,disabled:r}=e;return Object(ne.jsx)("button",{type:a,onClick:t,className:se()(_e.a.btn,s),disabled:r,children:c})},be=a(4),je=a.n(be),ue=a(82),pe=a.n(ue);var he=()=>Object(ne.jsx)("div",{className:pe.a.spinner});const Oe=te.a().shape({email:te.b().email().required(),password:te.b().min(6).required()});var fe=e=>{var t,a;let{onSuccess:s,tglPopup:c}=e;const r=Object(i.b)(),{isSending:n,error:o}=Object(i.c)(g),{register:l,handleSubmit:d,formState:{errors:_}}=Object($.d)({mode:"onBlur",resolver:Object(ee.a)(Oe)}),m=d((e=>{r(((e,t)=>{let{password:a,email:s}=e;return async e=>{e(h());try{await j.singIn(a,s)?(e(O()),t&&t()):e(f("\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"))}catch(c){e(f(u(c)))}}})(e,(()=>{s()})))}));return Object(ne.jsxs)("form",{className:je.a.form,noValidate:!0,onSubmit:m,children:[Object(ne.jsx)("h3",{className:je.a.form__title,children:"Fill the form"}),Object(ne.jsxs)("div",{className:je.a.form__fields,children:[Object(ne.jsx)(le,Object(K.a)(Object(K.a)({className:je.a.form__field,type:"email",error:null===(t=_.email)||void 0===t?void 0:t.message},l("email")),{},{placeholder:"email",label:"Email",readOnly:n})),Object(ne.jsx)(le,Object(K.a)(Object(K.a)({className:je.a.form__field,type:"password",error:null===(a=_.password)||void 0===a?void 0:a.message},l("password")),{},{placeholder:"password",label:"Password",readOnly:n}))]}),Object(ne.jsx)("div",{className:se()(je.a.form__btns,n&&je.a.form__btns_sending),children:n?Object(ne.jsx)(he,{}):Object(ne.jsxs)(ne.Fragment,{children:[o&&Object(ne.jsx)("p",{className:je.a.form__error,children:o}),Object(ne.jsx)(me,{type:"submit",className:je.a.form__submit,children:"Sing In"}),Object(ne.jsx)(me,{className:je.a.form__submit,handleClick:c,children:"Sing Up"})]})})]})};const ge=te.a().shape({firstName:te.b().required(),lastName:te.b().required(),email:te.b().email().required(),password:te.b().min(6).required()});var xe=e=>{var t,a,s,c;let{onSuccess:r,tglPopup:n}=e;const o=Object(i.b)(),{isSending:l,error:d}=Object(i.c)(C),{register:_,handleSubmit:m,formState:{errors:b}}=Object($.d)({mode:"onBlur",resolver:Object(ee.a)(ge)}),p=m((e=>{o(((e,t)=>{let{firstName:a,lastName:s,password:c,email:r}=e;return async e=>{e(v());try{await j.signUp({firstName:a,lastName:s,password:c,email:r})?(e(S()),t&&t()):e(w("\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"))}catch(n){e(w(u(n)))}}})(e,(()=>{r()})))}));return Object(ne.jsxs)("form",{className:je.a.form,noValidate:!0,onSubmit:p,children:[Object(ne.jsx)("h3",{className:je.a.form__title,children:"Fill the form"}),Object(ne.jsxs)("div",{className:je.a.form__fields,children:[Object(ne.jsx)(le,Object(K.a)(Object(K.a)({className:je.a.form__field,autoFocus:!0,error:null===(t=b.firstName)||void 0===t?void 0:t.message},_("firstName")),{},{placeholder:"firstName",label:"firstName"})),Object(ne.jsx)(le,Object(K.a)(Object(K.a)({className:je.a.form__field,error:null===(a=b.lastName)||void 0===a?void 0:a.message},_("lastName")),{},{placeholder:"lastName",label:"lastName"})),Object(ne.jsx)(le,Object(K.a)(Object(K.a)({className:je.a.form__field,type:"email",error:null===(s=b.email)||void 0===s?void 0:s.message},_("email")),{},{placeholder:"email",label:"Email"})),Object(ne.jsx)(le,Object(K.a)(Object(K.a)({className:je.a.form__field,type:"password",error:null===(c=b.password)||void 0===c?void 0:c.message},_("password")),{},{placeholder:"password",label:"Password"}))]}),Object(ne.jsx)("div",{className:se()(je.a.form__btns,l&&je.a.form__btns_sending),children:l?Object(ne.jsx)(he,{}):Object(ne.jsxs)(ne.Fragment,{children:[d&&Object(ne.jsx)("p",{className:je.a.form__error,children:d}),Object(ne.jsx)(me,{type:"submit",className:je.a.form__submit,children:"Sing Up"}),Object(ne.jsx)(me,{className:je.a.form__submit,handleClick:n,children:"Sing In"})]})})]})},Ne=a(9),ve=a.n(Ne),Se=a(26);const we=Object(Se.a)([e=>e.user],(e=>e.user));var Ce=e=>{let{tglPopupSingIn:t,tglPopupSingUp:a}=e;const s=Object(i.c)(we),c=(()=>{const e=Object(i.b)();return async()=>{await j.logOut(),e(k())}})();return Object(ne.jsxs)("header",{className:ve.a.header,children:[Object(ne.jsx)("nav",{className:ve.a.headerNav,children:Object(ne.jsxs)("ul",{className:se()(ve.a.headerNav__list,ve.a.navList),children:[Object(ne.jsx)("li",{className:ve.a.navList__item,children:Object(ne.jsxs)(X.b,{to:"/",className:ve.a.headerLink,children:[Object(ne.jsx)("img",{src:"data:image/png;base64,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",alt:"logo",className:ve.a.headerLink__img}),Object(ne.jsx)("span",{className:se()(ve.a.headerLink__name,"h4"),children:"Logo"})]})}),s&&Object(ne.jsx)("li",{className:ve.a.navList__item,children:Object(ne.jsx)(X.b,{to:"contacts",className:ve.a.headerLink,children:Object(ne.jsx)("span",{className:se()(ve.a.headerLink__name,"h4"),children:"Contacts"})})})]})}),Object(ne.jsx)("div",{className:ve.a.headerBtns,children:s?Object(ne.jsx)(me,{handleClick:c,className:ve.a.headerBtns__btn,children:"Log out"}):Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(me,{handleClick:t,className:ve.a.headerBtns__btn,children:"Sing In"}),Object(ne.jsx)(me,{handleClick:a,className:ve.a.headerBtns__btn,children:"Sign Up"})]})})]})},Ae=a(24),Le=a.n(Ae);var ye=e=>{let{hide:t=(()=>{}),modifierPopupClass:a="",children:c=null,container:n=document.body}=e;const[i,o]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{o(!0)}),[]),Object(ne.jsx)(ne.Fragment,{children:Object(r.createPortal)(Object(ne.jsxs)("div",{className:se()(Le.a.popup,Le.a[a],{[Le.a.popup_visible]:i}),children:[Object(ne.jsx)("div",{className:Le.a.popup__bg,onClick:t}),Object(ne.jsxs)("div",{className:Le.a.popup__wrap,children:[Object(ne.jsx)("button",{className:Le.a.popup__close,onClick:t}),c]})]}),n)})},Fe=a.p+"static/media/check.e270ba5a.svg",De=a(40),Be=a.n(De);var Ee=e=>{let{hide:t=(()=>null),time:a=2500,desc:c=""}=e;const r=Object(s.useRef)();return Object(s.useEffect)((()=>(r.current=setTimeout((()=>{t()}),a),()=>{clearTimeout(r.current)})),[]),Object(ne.jsxs)("div",{className:Be.a.popupThx,children:[Object(ne.jsx)("p",{className:Be.a.popupThx__desc,children:c}),Object(ne.jsx)("img",{src:Fe,alt:"\u2713",className:Be.a.popupThx__icon})]})};var Ie=()=>{const e=document.querySelector(".root"),t=Object(z.g)(),[a,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)(!1),i=()=>{r&&n(!1),c((e=>!e))},o=()=>{a&&c(!1),n((e=>!e))};return Object(s.useEffect)((()=>{e&&e.scrollTo(0,0)}),[t]),Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(Ce,{tglPopupSingUp:i,tglPopupSingIn:o}),Object(ne.jsx)("main",{children:Object(ne.jsx)(z.b,{})}),r&&Object(ne.jsx)(ye,{hide:o,children:Object(ne.jsx)(W,{children:(e,t)=>e?Object(ne.jsx)(fe,{onSuccess:t,tglPopup:i}):Object(ne.jsx)(Ee,{hide:o,desc:"Successfully logged in"})})}),a&&Object(ne.jsx)(ye,{hide:i,children:Object(ne.jsx)(W,{children:(e,t)=>e?Object(ne.jsx)(xe,{onSuccess:t,tglPopup:o}):Object(ne.jsx)(Ee,{hide:i,desc:"Successfully registered"})})})]})},Ue=a(41),ke=a.n(Ue);var Te=()=>{var e;const t=Object(i.c)(we);return Object(ne.jsxs)("section",{className:ke.a.home,children:[Object(ne.jsxs)("h2",{className:ke.a.home__title,children:["Hellow ",t?null===(e=t.user_metadata)||void 0===e?void 0:e.firstName:"User"]}),Object(ne.jsx)("p",{className:ke.a.home__desc,children:"Instruction"})]})},Me=a(42),Je=a.n(Me);var Qe=e=>{let{handleClick:t,children:a,type:s,className:c=""}=e;return Object(ne.jsx)("button",{onClick:t,className:se()(c,Je.a.btn,{[Je.a.btn_delete]:"delete"===s,[Je.a.btn_edit]:"edit"===s}),children:a})},Ve=a.p+"static/media/trash.8468c71e.svg",qe=a.p+"static/media/edit.56b97d7a.svg",He=a(16),Ye=a.n(He);var Pe=e=>{let{className:t,id:a,first_name:s,last_name:c,email:r,tglPopupContact:n}=e;const o=Object(i.b)();return Object(ne.jsxs)("li",{className:se()(t,Ye.a.contact),children:[Object(ne.jsxs)("div",{className:se()(Ye.a.contact__wrap,Ye.a.wrap),children:[Object(ne.jsx)("p",{className:Ye.a.wrap__fullName,children:"".concat(s," ").concat(c)}),Object(ne.jsx)("p",{className:Ye.a.wrap__email,children:r})]}),Object(ne.jsxs)("div",{className:Ye.a.contact__btnWrap,children:[Object(ne.jsx)(Qe,{type:"edit",className:Ye.a.contact__btn,handleClick:()=>{o(Y({id:a,first_name:s,last_name:c,email:r})),n()},children:Object(ne.jsx)("img",{src:qe,alt:"Edit"})}),Object(ne.jsx)(Qe,{type:"delete",className:Ye.a.contact__btn,handleClick:()=>{o((e=>async t=>{t(V());try{t(await j.deleteContact(e)?q():H("\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"))}catch(a){t(H(u(a)))}})(a))},children:Object(ne.jsx)("img",{src:Ve,alt:"Delete"})})]})]})},Re=a(83),Ze=a(17),Ge=a.n(Ze);const Xe=te.a().shape({first_name:te.b().required(),last_name:te.b().required(),email:te.b().email().required()});var ze=e=>{var t,a,s;let{onSuccess:c}=e;const r=Object(i.b)(),{isSending:n,currentContact:o}=Object(i.c)(R),l=Object(i.c)(we),{id:d,first_name:_,last_name:m,email:b}=o,{register:p,handleSubmit:h,formState:{errors:O}}=Object($.d)({mode:"onBlur",resolver:Object(ee.a)(Xe)}),f=h((e=>{if(d)r(((e,t)=>async a=>{a(V());try{await j.updateContact(e)?(a(q()),t&&t()):a(H("\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"))}catch(s){a(H(u(s)))}})(Object(K.a)(Object(K.a)({},e),{},{id:d}),(()=>{c()})));else{const t=null===l||void 0===l?void 0:l.id;r(((e,t)=>async a=>{a(V());try{await j.createContact(e)?(a(q()),t&&t()):a(H("\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"))}catch(s){a(H(u(s)))}})(Object(K.a)(Object(K.a)({},e),{},{user_id:t}),(()=>{c()})))}}));return Object(ne.jsxs)("form",{className:je.a.form,noValidate:!0,onSubmit:f,children:[Object(ne.jsx)("h3",{className:je.a.form__title,children:"Create new contact"}),Object(ne.jsxs)("div",{className:je.a.form__fields,children:[Object(ne.jsx)(le,Object(K.a)(Object(K.a)({className:je.a.form__field,autoFocus:!0,error:null===(t=O.first_name)||void 0===t?void 0:t.message},p("first_name")),{},{placeholder:"firstName",label:"firstName",defaultValue:_})),Object(ne.jsx)(le,Object(K.a)(Object(K.a)({className:je.a.form__field,error:null===(a=O.last_name)||void 0===a?void 0:a.message},p("last_name")),{},{placeholder:"lastName",label:"lastName",defaultValue:m})),Object(ne.jsx)(le,Object(K.a)(Object(K.a)({className:je.a.form__field,type:"email",error:null===(s=O.email)||void 0===s?void 0:s.message},p("email")),{},{placeholder:"email",label:"Email",defaultValue:b}))]}),n?Object(ne.jsx)(he,{}):Object(ne.jsx)(me,{type:"submit",className:je.a.form__submit,children:d?"Save":"Create"})]})},We=a(85),Ke=a.n(We);var $e=e=>{let{className:t,handleChange:a}=e;return Object(ne.jsx)("input",{type:"search",name:"search",placeholder:"search...",id:"search",onChange:a,className:se()(t,Ke.a.search)})};var et=()=>{const e=Object(i.b)(),t=Object(i.c)(we),{currentContact:a}=Object(i.c)(R),[c,r]=Object(s.useState)(!1),[n,o]=Object(s.useState)(""),l=()=>{c&&null!==a&&void 0!==a&&a.id&&e(P()),r(!c)},{contacts:d,isLoaded:_}=Object(i.c)(B);Object(s.useEffect)((()=>{var a;t&&e((a=t.id,async e=>{e(y());try{const t=await j.getContactList(a);e(t?F(t):D("\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"))}catch(t){e(D(u(t)))}}))}),[d]);const m=n?Object(Re.a)(d,n,{keys:["first_name","last_name","email"]}):d;return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)("section",{className:Ge.a.contacts,children:[Object(ne.jsx)("h2",{className:Ge.a.contacts__title,children:"Contacts"}),_?Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)($e,{className:Ge.a.contacts__search,handleChange:e=>{o(e.target.value)}}),Object(ne.jsx)(me,{className:Ge.a.contacts__new,handleClick:l,children:"New contact +"}),Object(ne.jsx)(ne.Fragment,{children:d.length?Object(ne.jsx)("ul",{className:se()(Ge.a.contacts__list,Ge.a.contactsList),children:m.map((e=>Object(ne.jsx)(Pe,Object(K.a)(Object(K.a)({},e),{},{className:Ge.a.contactsList__item,tglPopupContact:l}),e.id)))}):Object(ne.jsx)("p",{className:Ge.a.contacts__desc,children:"Contact list is empty"})})]}):Object(ne.jsx)(he,{})]}),c&&Object(ne.jsx)(ye,{hide:l,children:Object(ne.jsx)(W,{children:(e,t)=>e?Object(ne.jsx)(ze,{onSuccess:t}):Object(ne.jsx)(Ee,{hide:l,desc:"Contact created"})})})]})};var tt=()=>Object(ne.jsx)("div",{children:Object(ne.jsx)("h1",{children:"NotFound 404"})});const at=e=>{let{children:t}=e;const a=Object(i.b)();return Object(s.useEffect)((()=>{const{data:e}=j.supabase.auth.onAuthStateChange(((e,t)=>{if(t){const{user:e}=t;a(U(e))}}));return()=>{e&&e.unsubscribe()}}),[]),Object(ne.jsx)(ne.Fragment,{children:t})},st=e=>{let{children:t}=e;const a=Object(i.c)(we),s=Object(z.g)();return a?Object(ne.jsx)(ne.Fragment,{children:t}):Object(ne.jsx)(z.a,{to:"/",state:{from:s}})};var ct=()=>(Object(s.useEffect)((()=>{const e=()=>{const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),Object(ne.jsx)(X.a,{children:Object(ne.jsx)(at,{children:Object(ne.jsx)(z.e,{children:Object(ne.jsxs)(z.c,{path:"/supabase/",element:Object(ne.jsx)(Ie,{}),children:[Object(ne.jsx)(z.c,{index:!0,element:Object(ne.jsx)(Te,{})}),Object(ne.jsx)(z.c,{path:"contacts",element:Object(ne.jsx)(st,{children:Object(ne.jsx)(et,{})})}),Object(ne.jsx)(z.c,{path:"*",element:Object(ne.jsx)(tt,{})})]})})})}));a(196);n.a.render(Object(ne.jsx)(c.a.StrictMode,{children:Object(ne.jsx)(i.a,{store:G,children:Object(ne.jsx)(ct,{})})}),document.getElementById("root"))},24:function(e,t,a){e.exports={popup:"Modal_popup__1g07w",popup__bg:"Modal_popup__bg__2Reb5",popup__wrap:"Modal_popup__wrap__1glzF",popup__close:"Modal_popup__close__3YAPm",popup_visible:"Modal_popup_visible__1qDS7"}},28:function(e,t,a){e.exports={formfield:"Input_formfield__1763v",formfield__label:"Input_formfield__label__89Uf7",formfield__input:"Input_formfield__input__1VUkt",formfield__error:"Input_formfield__error__DUphb",formfield_error:"Input_formfield_error__3NhxB"}},4:function(e,t,a){e.exports={form__title:"Form_form__title__3KcGc",form__fields:"Form_form__fields__3Lwzm",form__field:"Form_form__field__3CA-y",form__error:"Form_form__error__2yuni",form__btns:"Form_form__btns__36nU1",form__btns_sending:"Form_form__btns_sending__1vjFM",form__submit:"Form_form__submit__ZoCw6"}},40:function(e,t,a){e.exports={popupThx:"ModalThx_popupThx__3YMEA",popupThx__desc:"ModalThx_popupThx__desc__Hkui1",popupThx__icon:"ModalThx_popupThx__icon__2ZLYQ"}},41:function(e,t,a){e.exports={home:"Home_home__2OjLE",home__title:"Home_home__title__3XAXw",home__desc:"Home_home__desc__236AT"}},42:function(e,t,a){e.exports={btn:"ButtonWithImage_btn__3ir5n"}},81:function(e,t,a){e.exports={btn:"Btn_btn__2ExEj"}},82:function(e,t,a){e.exports={spinner:"Spinner_spinner__2FSUv","first-ring":"Spinner_first-ring__1fHIq","second-ring":"Spinner_second-ring__1oErX"}},85:function(e,t,a){e.exports={search:"SearchInput_search__3aANP"}},9:function(e,t,a){e.exports={header:"Header_header__2BRRf",headerNav:"Header_headerNav__1W51t",navList:"Header_navList__1dYQn",navList__item:"Header_navList__item__3iIS0",headerLink:"Header_headerLink__22LoH",headerLink__img:"Header_headerLink__img__3F7wr",headerLink__name:"Header_headerLink__name__2ETrx",headerBtns:"Header_headerBtns__3JLh_",headerBtns__btn:"Header_headerBtns__btn__vl9N7"}}},[[197,1,2]]]);