(this.webpackJsonpsupabase=this.webpackJsonpsupabase||[]).push([[0],{10:function(e,t,a){e.exports={header:"Header_header__2BRRf",headerNav:"Header_headerNav__1W51t",navList:"Header_navList__1dYQn",navList__item:"Header_navList__item__3iIS0",headerLink:"Header_headerLink__22LoH",headerLink__img:"Header_headerLink__img__3F7wr",headerLink__name:"Header_headerLink__name__2ETrx",headerBtns:"Header_headerBtns__3JLh_",headerBtns__btn:"Header_headerBtns__btn__vl9N7"}},16:function(e,t,a){e.exports={contact:"Contact_contact__3Q7NQ",contact__wrap:"Contact_contact__wrap__27vcF",contact__btnWrap:"Contact_contact__btnWrap__6Q0v7",contact__btn:"Contact_contact__btn__3AdwK",wrap__fullName:"Contact_wrap__fullName__2kpDn",wrap__email:"Contact_wrap__email__2RIZm"}},17:function(e,t,a){e.exports={contacts:"Contacts_contacts__2njFw",contacts__title:"Contacts_contacts__title__NpmFw",contacts__new:"Contacts_contacts__new__CSxcA",contacts__search:"Contacts_contacts__search__2vqTb",contacts__desc:"Contacts_contacts__desc__3XB9M",contactsList:"Contacts_contactsList__3sio5",contactsList__item:"Contacts_contactsList__item__2hGt_"}},196:function(e,t,a){},197:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),r=a(25),n=a.n(r),i=a(5),o=a(9);const l=Object(o.b)({name:"device",initialState:{width:0,height:0,device:"desctop"},reducers:{setDeviceProps:(e,t)=>{let{payload:a}=t;const{width:s,height:c,device:r}=a;e.width=s,e.height=c,e.device=r}}}),{setDeviceProps:d}=l.actions;var _=l.reducer,m=a(15),b=a(86);const j=["id"],u=String(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SUPABASE_URL),p=String(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SUPABASE_ANON_KEY);const h=new class{constructor(){this.supabase=void 0,this.supabase=Object(b.a)(u,p)}getUserCred(){return this.supabase.auth.user()}async singIn(e,t){const{user:a,error:s}=await this.supabase.auth.signIn({password:e,email:t});if(s)throw new Error(s.message);if(!a)throw new Error("user not found");return a}async signUp(e){let{firstName:t,lastName:a,password:s,email:c}=e;const{user:r,error:n}=await this.supabase.auth.signUp({password:s,email:c},{data:{firstName:t,lastName:a}});if(n)throw new Error(n.message);if(!r)throw new Error("user not found");return r}async logOut(){return this.supabase.auth.signOut()}async getContactList(e){const{data:t,error:a}=await this.supabase.from("contact").select("*").match({user_id:e});return t||[]}async createContact(e){const{data:t,error:a}=await this.supabase.from("contact").insert(e,{returning:"representation"});return null===t||void 0===t?void 0:t[0]}async updateContact(e){const{id:t}=e,a=Object(m.a)(e,j),{data:s,error:c}=await this.supabase.from("contact").update(a,{returning:"representation"}).match({id:t});return null===s||void 0===s?void 0:s[0]}async deleteContact(e){const{data:t,error:a}=await this.supabase.from("contact").delete().match({id:e});return null===t||void 0===t?void 0:t[0]}},O=e=>{const t=e;return t.message?t.message:"unknown error"},f=Object(o.b)({name:"formSignIn",initialState:{isSending:!1,isSended:!1,error:null},reducers:{sendDataStart:e=>{e.isSending=!0,e.isSended=!1},sendDataSuccess:e=>{e.isSending=!1,e.isSended=!0},sendDataFailure:(e,t)=>{let{payload:a}=t;e.error=a,e.isSending=!1,e.isSended=!0}}}),{sendDataStart:g,sendDataSuccess:x,sendDataFailure:N}=f.actions,S=e=>e.formSignIn;var v=f.reducer;const C=Object(o.b)({name:"formSignUp",initialState:{isSending:!1,isSended:!1,error:null},reducers:{sendDataStart:e=>{e.isSending=!0,e.isSended=!1},sendDataSuccess:e=>{e.isSending=!1,e.isSended=!0},sendDataFailure:(e,t)=>{let{payload:a}=t;e.error=a,e.isSending=!1,e.isSended=!0}}}),{sendDataStart:w,sendDataSuccess:A,sendDataFailure:L}=C.actions,E=e=>e.formSignUp;var D=C.reducer;const y=Object(o.b)({name:"contacts",initialState:{contacts:[],isLoading:!1,isLoaded:!1,error:""},reducers:{getDataStart:e=>{e.isLoading=!0},getDataSuccess:(e,t)=>{let{payload:a}=t;e.contacts=a,e.isLoading=!1,e.isLoaded=!0},getDataFailure:(e,t)=>{let{payload:a}=t;e.error=a,e.isLoading=!1}}}),{getDataStart:F,getDataSuccess:T,getDataFailure:U}=y.actions,B=e=>e.contacts;var P=y.reducer;const k=Object(o.b)({name:"user",initialState:{user:null},reducers:{setUser:(e,t)=>{let{payload:a}=t;e.user=a},removeUser:e=>{e.user=null}}}),{setUser:I,removeUser:R}=k.actions;var H=k.reducer;const Q={first_name:"",last_name:"",email:"",id:null},V={isSending:!1,isSended:!1,error:null,currentContact:Q},M=Object(o.b)({name:"contact",initialState:V,reducers:{sendDataStart:e=>{e.isSending=!0,e.isSended=!1},sendDataSuccess:e=>{e.isSending=!1,e.isSended=!0,e.currentContact=Q},sendDataFailure:(e,t)=>{let{payload:a}=t;e.error=a,e.isSending=!1,e.isSended=!0,e.currentContact=Q},setCurrentContact:(e,t)=>{let{payload:a}=t;e.currentContact=a},setDefaultContact:e=>{e.currentContact=Q}}}),{sendDataStart:J,sendDataSuccess:q,sendDataFailure:Y}=M.actions,{setCurrentContact:W,setDefaultContact:K}=M.actions,G=e=>e.contact;var Z=M.reducer;var X=Object(o.a)({reducer:{device:_,user:H,formSignIn:v,formSignUp:D,contacts:P,contact:Z}}),z=a(22),$=a(3);var ee=e=>{let{children:t}=e;const[a,c]=Object(s.useState)(!0);return t(a,(()=>{c(!a)}))},te=a(2),ae=a(12),se=a(27),ce=a(11),re=a(6),ne=a.n(re),ie=a(28),oe=a.n(ie),le=a(1);const de=["type","autoFocus","className","label","error"],_e=Object(s.forwardRef)(((e,t)=>{let{type:a="text",autoFocus:c=!1,className:r="",label:n="",error:i=""}=e,l=Object(m.a)(e,de);const d=Object(s.useRef)(Object(o.c)()).current;return Object(le.jsxs)("div",{className:ne()(oe.a.formfield,r,{[oe.a.formfield_error]:!!i}),children:[n&&Object(le.jsx)("label",{htmlFor:d,className:oe.a.formfield__label,children:n}),Object(le.jsx)("input",Object(te.a)({ref:t,type:a,autoFocus:c,autoComplete:"off",className:oe.a.formfield__input},l)),Object(le.jsx)("small",{className:oe.a.formfield__error,children:i})]})}));_e.displayName="Input";var me=_e,be=a(81),je=a.n(be);var ue=e=>{let{handleClick:t,type:a="button",className:s="",children:c,disabled:r}=e;return Object(le.jsx)("button",{type:a,onClick:t,className:ne()(je.a.btn,s),disabled:r,children:c})},pe=a(4),he=a.n(pe),Oe=a(82),fe=a.n(Oe);var ge=()=>Object(le.jsx)("div",{className:fe.a.spinner});const xe=ce.a().shape({email:ce.b().email().required(),password:ce.b().min(6).required()});var Ne=e=>{var t,a;let{onSuccess:s,tglPopup:c}=e;const r=Object(i.b)(),{isSending:n,error:o}=Object(i.c)(S),{register:l,handleSubmit:d,formState:{errors:_}}=Object(ae.d)({mode:"onBlur",resolver:Object(se.a)(xe)}),m=d((e=>{r(((e,t)=>{let{password:a,email:s}=e;return async e=>{e(g());try{await h.singIn(a,s)?(e(x()),t&&t()):e(N("\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"))}catch(c){e(N(O(c)))}}})(e,(()=>{s()})))}));return Object(le.jsxs)("form",{className:he.a.form,noValidate:!0,onSubmit:m,children:[Object(le.jsx)("h3",{className:he.a.form__title,children:"Fill the form"}),Object(le.jsxs)("div",{className:he.a.form__fields,children:[Object(le.jsx)(me,Object(te.a)(Object(te.a)({className:he.a.form__field,type:"email",error:null===(t=_.email)||void 0===t?void 0:t.message},l("email")),{},{placeholder:"email",label:"Email",readOnly:n})),Object(le.jsx)(me,Object(te.a)(Object(te.a)({className:he.a.form__field,type:"password",error:null===(a=_.password)||void 0===a?void 0:a.message},l("password")),{},{placeholder:"password",label:"Password",readOnly:n}))]}),Object(le.jsx)("div",{className:ne()(he.a.form__btns,n&&he.a.form__btns_sending),children:n?Object(le.jsx)(ge,{}):Object(le.jsxs)(le.Fragment,{children:[o&&Object(le.jsx)("p",{className:he.a.form__error,children:o}),Object(le.jsx)(ue,{type:"submit",className:he.a.form__submit,children:"Sing In"}),Object(le.jsx)(ue,{className:he.a.form__submit,handleClick:c,children:"Sing Up"})]})})]})};const Se=ce.a().shape({firstName:ce.b().required(),lastName:ce.b().required(),email:ce.b().email().required(),password:ce.b().min(6).required()});var ve=e=>{var t,a,s,c;let{onSuccess:r,tglPopup:n}=e;const o=Object(i.b)(),{isSending:l,error:d}=Object(i.c)(E),{register:_,handleSubmit:m,formState:{errors:b}}=Object(ae.d)({mode:"onBlur",resolver:Object(se.a)(Se)}),j=m((e=>{o(((e,t)=>{let{firstName:a,lastName:s,password:c,email:r}=e;return async e=>{e(w());try{await h.signUp({firstName:a,lastName:s,password:c,email:r})?(e(A()),t&&t()):e(L("\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"))}catch(n){e(L(O(n)))}}})(e,(()=>{r()})))}));return Object(le.jsxs)("form",{className:he.a.form,noValidate:!0,onSubmit:j,children:[Object(le.jsx)("h3",{className:he.a.form__title,children:"Fill the form"}),Object(le.jsxs)("div",{className:he.a.form__fields,children:[Object(le.jsx)(me,Object(te.a)(Object(te.a)({className:he.a.form__field,autoFocus:!0,error:null===(t=b.firstName)||void 0===t?void 0:t.message},_("firstName")),{},{placeholder:"firstName",label:"firstName"})),Object(le.jsx)(me,Object(te.a)(Object(te.a)({className:he.a.form__field,error:null===(a=b.lastName)||void 0===a?void 0:a.message},_("lastName")),{},{placeholder:"lastName",label:"lastName"})),Object(le.jsx)(me,Object(te.a)(Object(te.a)({className:he.a.form__field,type:"email",error:null===(s=b.email)||void 0===s?void 0:s.message},_("email")),{},{placeholder:"email",label:"Email"})),Object(le.jsx)(me,Object(te.a)(Object(te.a)({className:he.a.form__field,type:"password",error:null===(c=b.password)||void 0===c?void 0:c.message},_("password")),{},{placeholder:"password",label:"Password"}))]}),Object(le.jsx)("div",{className:ne()(he.a.form__btns,l&&he.a.form__btns_sending),children:l?Object(le.jsx)(ge,{}):Object(le.jsxs)(le.Fragment,{children:[d&&Object(le.jsx)("p",{className:he.a.form__error,children:d}),Object(le.jsx)(ue,{type:"submit",className:he.a.form__submit,children:"Sing Up"}),Object(le.jsx)(ue,{className:he.a.form__submit,handleClick:n,children:"Sing In"})]})})]})},Ce=a(10),we=a.n(Ce),Ae=a(26);const Le=Object(Ae.a)([e=>e.user],(e=>e.user));var Ee=e=>{let{tglPopupSingIn:t,tglPopupSingUp:a}=e;const s=Object(i.c)(Le),c=(()=>{const e=Object(i.b)();return async()=>{await h.logOut(),e(R())}})();return Object(le.jsxs)("header",{className:we.a.header,children:[Object(le.jsx)("nav",{className:we.a.headerNav,children:Object(le.jsxs)("ul",{className:ne()(we.a.headerNav__list,we.a.navList),children:[Object(le.jsx)("li",{className:we.a.navList__item,children:Object(le.jsxs)(z.b,{to:"/",className:we.a.headerLink,children:[Object(le.jsx)("img",{src:"data:image/png;base64,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",alt:"logo",className:we.a.headerLink__img}),Object(le.jsx)("span",{className:ne()(we.a.headerLink__name,"h4"),children:"Logo"})]})}),s&&Object(le.jsx)("li",{className:we.a.navList__item,children:Object(le.jsx)(z.b,{to:"contacts",className:we.a.headerLink,children:Object(le.jsx)("span",{className:ne()(we.a.headerLink__name,"h4"),children:"Contacts"})})})]})}),Object(le.jsx)("div",{className:we.a.headerBtns,children:s?Object(le.jsx)(ue,{handleClick:c,className:we.a.headerBtns__btn,children:"Log out"}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ue,{handleClick:t,className:we.a.headerBtns__btn,children:"Sing In"}),Object(le.jsx)(ue,{handleClick:a,className:we.a.headerBtns__btn,children:"Sign Up"})]})})]})},De=a(24),ye=a.n(De);var Fe=e=>{let{hide:t=(()=>{}),modifierPopupClass:a="",children:c=null,container:n=document.body}=e;const[i,o]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{o(!0)}),[]),Object(le.jsx)(le.Fragment,{children:Object(r.createPortal)(Object(le.jsxs)("div",{className:ne()(ye.a.popup,ye.a[a],{[ye.a.popup_visible]:i}),children:[Object(le.jsx)("div",{className:ye.a.popup__bg,onClick:t}),Object(le.jsxs)("div",{className:ye.a.popup__wrap,children:[Object(le.jsx)("button",{className:ye.a.popup__close,onClick:t}),c]})]}),n)})},Te=a.p+"static/media/check.e270ba5a.svg",Ue=a(40),Be=a.n(Ue);var Pe=e=>{let{hide:t=(()=>null),time:a=2500,desc:c=""}=e;const r=Object(s.useRef)();return Object(s.useEffect)((()=>(r.current=setTimeout((()=>{t()}),a),()=>{clearTimeout(r.current)})),[]),Object(le.jsxs)("div",{className:Be.a.popupThx,children:[Object(le.jsx)("p",{className:Be.a.popupThx__desc,children:c}),Object(le.jsx)("img",{src:Te,alt:"\u2713",className:Be.a.popupThx__icon})]})};var ke=()=>{const e=document.querySelector(".root"),t=Object($.g)(),[a,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)(!1),i=()=>{r&&n(!1),c((e=>!e))},o=()=>{a&&c(!1),n((e=>!e))};return Object(s.useEffect)((()=>{e&&e.scrollTo(0,0)}),[t]),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ee,{tglPopupSingUp:i,tglPopupSingIn:o}),Object(le.jsx)("main",{children:Object(le.jsx)($.b,{})}),r&&Object(le.jsx)(Fe,{hide:o,children:Object(le.jsx)(ee,{children:(e,t)=>e?Object(le.jsx)(Ne,{onSuccess:t,tglPopup:i}):Object(le.jsx)(Pe,{hide:o,desc:"Successfully logged in"})})}),a&&Object(le.jsx)(Fe,{hide:i,children:Object(le.jsx)(ee,{children:(e,t)=>e?Object(le.jsx)(ve,{onSuccess:t,tglPopup:o}):Object(le.jsx)(Pe,{hide:i,desc:"Successfully registered"})})})]})},Ie=a(41),Re=a.n(Ie);var He=()=>{var e;const t=Object(i.c)(Le);return Object(le.jsxs)("section",{className:Re.a.home,children:[Object(le.jsxs)("h2",{className:Re.a.home__title,children:["Hellow ",t?null===(e=t.user_metadata)||void 0===e?void 0:e.firstName:"User"]}),Object(le.jsx)("p",{className:Re.a.home__desc,children:"Instruction"})]})},Qe=a(42),Ve=a.n(Qe);var Me=e=>{let{handleClick:t,children:a,type:s,className:c=""}=e;return Object(le.jsx)("button",{onClick:t,className:ne()(c,Ve.a.btn,{[Ve.a.btn_delete]:"delete"===s,[Ve.a.btn_edit]:"edit"===s}),children:a})},Je=a.p+"static/media/trash.8468c71e.svg",qe=a.p+"static/media/edit.56b97d7a.svg",Ye=a(16),We=a.n(Ye);var Ke=e=>{let{className:t,id:a,first_name:s,last_name:c,email:r,tglPopupContact:n}=e;const o=Object(i.b)();return Object(le.jsxs)("li",{className:ne()(t,We.a.contact),children:[Object(le.jsxs)("div",{className:ne()(We.a.contact__wrap,We.a.wrap),children:[Object(le.jsx)("p",{className:We.a.wrap__fullName,children:"".concat(s," ").concat(c)}),Object(le.jsx)("p",{className:We.a.wrap__email,children:r})]}),Object(le.jsxs)("div",{className:We.a.contact__btnWrap,children:[Object(le.jsx)(Me,{type:"edit",className:We.a.contact__btn,handleClick:()=>{o(W({id:a,first_name:s,last_name:c,email:r})),n()},children:Object(le.jsx)("img",{src:qe,alt:"Edit"})}),Object(le.jsx)(Me,{type:"delete",className:We.a.contact__btn,handleClick:()=>{o((e=>async t=>{t(J());try{t(await h.deleteContact(e)?q():Y("\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"))}catch(a){t(Y(O(a)))}})(a))},children:Object(le.jsx)("img",{src:Je,alt:"Delete"})})]})]})},Ge=a(83),Ze=a(17),Xe=a.n(Ze);const ze=ce.a().shape({first_name:ce.b().required(),last_name:ce.b().required(),email:ce.b().email().required()});var $e=e=>{var t,a,s;let{onSuccess:c}=e;const r=Object(i.b)(),{isSending:n,currentContact:o}=Object(i.c)(G),l=Object(i.c)(Le),{id:d,first_name:_,last_name:m,email:b}=o,{register:j,handleSubmit:u,formState:{errors:p}}=Object(ae.d)({mode:"onBlur",resolver:Object(se.a)(ze)}),f=u((e=>{if(d)r(((e,t)=>async a=>{a(J());try{await h.updateContact(e)?(a(q()),t&&t()):a(Y("\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"))}catch(s){a(Y(O(s)))}})(Object(te.a)(Object(te.a)({},e),{},{id:d}),(()=>{c()})));else{const t=null===l||void 0===l?void 0:l.id;r(((e,t)=>async a=>{a(J());try{await h.createContact(e)?(a(q()),t&&t()):a(Y("\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"))}catch(s){a(Y(O(s)))}})(Object(te.a)(Object(te.a)({},e),{},{user_id:t}),(()=>{c()})))}}));return Object(le.jsxs)("form",{className:he.a.form,noValidate:!0,onSubmit:f,children:[Object(le.jsx)("h3",{className:he.a.form__title,children:"Create new contact"}),Object(le.jsxs)("div",{className:he.a.form__fields,children:[Object(le.jsx)(me,Object(te.a)(Object(te.a)({className:he.a.form__field,autoFocus:!0,error:null===(t=p.first_name)||void 0===t?void 0:t.message},j("first_name")),{},{placeholder:"firstName",label:"firstName",defaultValue:_})),Object(le.jsx)(me,Object(te.a)(Object(te.a)({className:he.a.form__field,error:null===(a=p.last_name)||void 0===a?void 0:a.message},j("last_name")),{},{placeholder:"lastName",label:"lastName",defaultValue:m})),Object(le.jsx)(me,Object(te.a)(Object(te.a)({className:he.a.form__field,type:"email",error:null===(s=p.email)||void 0===s?void 0:s.message},j("email")),{},{placeholder:"email",label:"Email",defaultValue:b}))]}),n?Object(le.jsx)(ge,{}):Object(le.jsx)(ue,{type:"submit",className:he.a.form__submit,children:d?"Save":"Create"})]})},et=a(85),tt=a.n(et);var at=e=>{let{className:t,handleChange:a}=e;return Object(le.jsx)("input",{type:"search",name:"search",placeholder:"search...",id:"search",onChange:a,className:ne()(t,tt.a.search)})};var st=()=>{const e=Object(i.b)(),t=Object(i.c)(Le),{currentContact:a}=Object(i.c)(G),[c,r]=Object(s.useState)(!1),[n,o]=Object(s.useState)(""),l=()=>{c&&null!==a&&void 0!==a&&a.id&&e(K()),r(!c)},{contacts:d,isLoaded:_}=Object(i.c)(B);Object(s.useEffect)((()=>{var a;t&&e((a=t.id,async e=>{e(F());try{const t=await h.getContactList(a);e(t?T(t):U("\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"))}catch(t){e(U(O(t)))}}))}),[d]);const m=n?Object(Ge.a)(d,n,{keys:["first_name","last_name","email"]}):d;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)("section",{className:Xe.a.contacts,children:[Object(le.jsx)("h2",{className:Xe.a.contacts__title,children:"Contacts"}),_?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(at,{className:Xe.a.contacts__search,handleChange:e=>{o(e.target.value)}}),Object(le.jsx)(ue,{className:Xe.a.contacts__new,handleClick:l,children:"New contact +"}),Object(le.jsx)(le.Fragment,{children:d.length?Object(le.jsx)("ul",{className:ne()(Xe.a.contacts__list,Xe.a.contactsList),children:m.map((e=>Object(le.jsx)(Ke,Object(te.a)(Object(te.a)({},e),{},{className:Xe.a.contactsList__item,tglPopupContact:l}),e.id)))}):Object(le.jsx)("p",{className:Xe.a.contacts__desc,children:"Contact list is empty"})})]}):Object(le.jsx)(ge,{})]}),c&&Object(le.jsx)(Fe,{hide:l,children:Object(le.jsx)(ee,{children:(e,t)=>e?Object(le.jsx)($e,{onSuccess:t}):Object(le.jsx)(Pe,{hide:l,desc:"Contact created"})})})]})};var ct=()=>Object(le.jsx)("div",{children:Object(le.jsx)("h1",{children:"NotFound 404"})});const rt=e=>{let{children:t}=e;const a=Object(i.b)();return Object(s.useEffect)((()=>{const{data:e}=h.supabase.auth.onAuthStateChange(((e,t)=>{if(t){const{user:e}=t;a(I(e))}}));return()=>{e&&e.unsubscribe()}}),[]),Object(le.jsx)(le.Fragment,{children:t})},nt=e=>{let{children:t}=e;const a=Object(i.c)(Le),s=Object($.g)();return a?Object(le.jsx)(le.Fragment,{children:t}):Object(le.jsx)($.a,{to:"/",state:{from:s}})};var it=()=>(Object(s.useEffect)((()=>{const e=()=>{const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),Object(le.jsx)(z.a,{children:Object(le.jsx)(rt,{children:Object(le.jsx)($.e,{children:Object(le.jsxs)($.c,{path:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PUBLIC_URL,element:Object(le.jsx)(ke,{}),children:[Object(le.jsx)($.c,{index:!0,element:Object(le.jsx)(He,{})}),Object(le.jsx)($.c,{path:"contacts",element:Object(le.jsx)(nt,{children:Object(le.jsx)(st,{})})}),Object(le.jsx)($.c,{path:"*",element:Object(le.jsx)(ct,{})})]})})})}));a(196);n.a.render(Object(le.jsx)(c.a.StrictMode,{children:Object(le.jsx)(i.a,{store:X,children:Object(le.jsx)(it,{})})}),document.getElementById("root"))},24:function(e,t,a){e.exports={popup:"Modal_popup__1g07w",popup__bg:"Modal_popup__bg__2Reb5",popup__wrap:"Modal_popup__wrap__1glzF",popup__close:"Modal_popup__close__3YAPm",popup_visible:"Modal_popup_visible__1qDS7"}},28:function(e,t,a){e.exports={formfield:"Input_formfield__1763v",formfield__label:"Input_formfield__label__89Uf7",formfield__input:"Input_formfield__input__1VUkt",formfield__error:"Input_formfield__error__DUphb",formfield_error:"Input_formfield_error__3NhxB"}},4:function(e,t,a){e.exports={form__title:"Form_form__title__3KcGc",form__fields:"Form_form__fields__3Lwzm",form__field:"Form_form__field__3CA-y",form__error:"Form_form__error__2yuni",form__btns:"Form_form__btns__36nU1",form__btns_sending:"Form_form__btns_sending__1vjFM",form__submit:"Form_form__submit__ZoCw6"}},40:function(e,t,a){e.exports={popupThx:"ModalThx_popupThx__3YMEA",popupThx__desc:"ModalThx_popupThx__desc__Hkui1",popupThx__icon:"ModalThx_popupThx__icon__2ZLYQ"}},41:function(e,t,a){e.exports={home:"Home_home__2OjLE",home__title:"Home_home__title__3XAXw",home__desc:"Home_home__desc__236AT"}},42:function(e,t,a){e.exports={btn:"ButtonWithImage_btn__3ir5n"}},81:function(e,t,a){e.exports={btn:"Btn_btn__2ExEj"}},82:function(e,t,a){e.exports={spinner:"Spinner_spinner__2FSUv","first-ring":"Spinner_first-ring__1fHIq","second-ring":"Spinner_second-ring__1oErX"}},85:function(e,t,a){e.exports={search:"SearchInput_search__3aANP"}}},[[197,1,2]]]);